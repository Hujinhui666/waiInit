import{z as _,A as b,U as $,H as V,ap as y,d as n,K as v,ad as C,P as p,ac as P,aa as S,a9 as D,a4 as E,E as B,I,ao as g,Q as w,_ as A,ai as L,u as R,e as q,f as z,h as F,o as H,c as O,F as G}from"./index-ed287d35.js";import{T as K}from"./index-446dc429.js";import{C as N}from"./index-c79f315e.js";import{c as j,s as M}from"./index-157f7c35.js";import{_ as h}from"./Header-0bffad9e.js";import{B as Q}from"./index-653ff191.js";import"./use-route-f75f7c81.js";const[k,U]=_("radio-group"),Y={disabled:Boolean,iconSize:v,direction:String,modelValue:C,checkedColor:String},x=Symbol(k);var J=b({name:k,props:Y,emits:["change","update:modelValue"],setup(e,{emit:a,slots:s}){const{linkChildren:o}=$(x),i=l=>a("update:modelValue",l);return V(()=>e.modelValue,l=>a("change",l)),o({props:e,updateValue:i}),y(()=>e.modelValue),()=>{var l;return n("div",{class:U([e.direction]),role:"radiogroup"},[(l=s.default)==null?void 0:l.call(s)])}}});const W=p(J),[X,Z]=_("radio");var ee=b({name:X,props:j,emits:["update:modelValue"],setup(e,{emit:a,slots:s}){const{parent:o}=P(x),i=()=>(o?o.props.modelValue:e.modelValue)===e.name,l=()=>{o?o.updateValue(e.name):a("update:modelValue",e.name)};return()=>n(M,D({bem:Z,role:"radio",parent:o,checked:i(),onToggle:l},e),S(s,["default","icon"]))}});const te=p(ee),[ae,m]=_("address-item");var de=b({name:ae,props:{address:E(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:a,emit:s}){const o=()=>{e.switchable&&s("select"),s("click")},i=()=>n(I,{name:"edit",class:m("edit"),onClick:d=>{d.stopPropagation(),s("edit"),s("click")}},null),l=()=>{if(a.tag)return a.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return n(K,{type:"primary",round:!0,class:m("tag")},{default:()=>[e.defaultTagText]})},t=()=>{const{address:d,disabled:r,switchable:c}=e,u=[n("div",{class:m("name")},[`${d.name} ${d.tel}`,l()]),n("div",{class:m("address")},[d.address])];return c&&!r?n(te,{name:d.id,iconSize:18},{default:()=>[u]}):u};return()=>{var d;const{disabled:r}=e;return n("div",{class:m({disabled:r}),onClick:o},[n(N,{border:!1,titleClass:m("title")},{title:t,"right-icon":i}),(d=a.bottom)==null?void 0:d.call(a,B({},e.address,{disabled:r}))])}}});const[se,f,ne]=_("address-list"),oe={list:g(),modelValue:v,switchable:w,disabledText:String,disabledList:g(),addButtonText:String,defaultTagText:String};var le=b({name:se,props:oe,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:a,emit:s}){const o=(t,d,r)=>{const c=()=>s(r?"editDisabled":"edit",t,d),u=()=>s("clickItem",t,d),T=()=>{s(r?"selectDisabled":"select",t,d),r||s("update:modelValue",t.id)};return n(de,{key:t.id,address:t,disabled:r,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:c,onClick:u,onSelect:T},{bottom:a["item-bottom"],tag:a.tag})},i=(t,d)=>{if(t)return t.map((r,c)=>o(r,c,d))},l=()=>n("div",{class:[f("bottom"),"van-safe-area-bottom"]},[n(Q,{round:!0,block:!0,type:"primary",text:e.addButtonText||ne("add"),class:f("add"),onClick:()=>s("add")},null)]);return()=>{var t,d;const r=i(e.list),c=i(e.disabledList,!0),u=e.disabledText&&n("div",{class:f("disabled-text")},[e.disabledText]);return n("div",{class:f()},[(t=a.top)==null?void 0:t.call(a),n(W,{modelValue:e.modelValue},{default:()=>[r]}),u,c,(d=a.default)==null?void 0:d.call(a),l()])}}});const re=p(le);const ie={components:{Header:h},setup(){const e=L(),a=R(),s=q({list:[]}),o=t=>{a.push({path:"/addressEdit",query:{id:t.id,type:"edit"}})},i=t=>{a.push({path:"/addressEdit",query:{type:"add"}})},l=()=>{s.list=e.state.addressOptions.userAddress.map(t=>({id:t.id,name:t.name,tel:t.tel,address:`${t.province}${t.city}${t.county}${t.addressDetail}`,isDefault:t.isDefault}))};return z(()=>{l()}),{...F(s),store:e,onAdd:i,onEdit:o}}};function ce(e,a,s,o,i,l){const t=h,d=re;return H(),O(G,null,[n(t,{title:"地址管理"}),n(d,{list:e.list,"default-tag-text":"默认",onAdd:o.onAdd,onEdit:o.onEdit},null,8,["list","onAdd","onEdit"])],64)}const ve=A(ie,[["render",ce],["__scopeId","data-v-8c2a03b9"]]);export{ve as default};
