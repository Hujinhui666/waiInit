import{z as F,K as _,ao as se,A as R,U as ie,H as C,V as j,ap as z,d as v,E as oe,Q as b,ac as ue,C as S,aa as ce,a9 as D,P as J,g as H,a5 as q,aq as de,af as G,ag as L,al as W,M as k,ar as Q,R as X,a1 as me,as as re,a2 as M,ab as he,at as fe,au as ge,_ as be,o as T,c as _e,a as x,i as A,am as ve,t as Y,I as Ve}from"./index-ed287d35.js";import{c as ke,s as xe}from"./index-157f7c35.js";const[Z,Se]=F("checkbox-group"),Ce={max:_,disabled:Boolean,iconSize:_,direction:String,modelValue:se(),checkedColor:String},p=Symbol(Z);var He=R({name:Z,props:Ce,emits:["change","update:modelValue"],setup(e,{emit:s,slots:t}){const{children:c,linkChildren:d}=ie(p),f=a=>s("update:modelValue",a),l=(a={})=>{typeof a=="boolean"&&(a={checked:a});const{checked:o,skipDisabled:g}=a,r=c.filter(u=>u.props.bindGroup?u.props.disabled&&g?u.checked.value:o??!u.checked.value:!1).map(u=>u.name);f(r)};return C(()=>e.modelValue,a=>s("change",a)),j({toggleAll:l}),z(()=>e.modelValue),d({props:e,updateValue:f}),()=>{var a;return v("div",{class:Se([e.direction])},[(a=t.default)==null?void 0:a.call(t)])}}});const[Pe,ye]=F("checkbox"),Ie=oe({},ke,{bindGroup:b});var Te=R({name:Pe,props:Ie,emits:["change","update:modelValue"],setup(e,{emit:s,slots:t}){const{parent:c}=ue(p),d=a=>{const{name:o}=e,{max:g,modelValue:V}=c.props,r=V.slice();if(a)!(g&&r.length>=g)&&!r.includes(o)&&(r.push(o),e.bindGroup&&c.updateValue(r));else{const u=r.indexOf(o);u!==-1&&(r.splice(u,1),e.bindGroup&&c.updateValue(r))}},f=S(()=>c&&e.bindGroup?c.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),l=(a=!f.value)=>{c&&e.bindGroup?d(a):s("update:modelValue",a)};return C(()=>e.modelValue,a=>s("change",a)),j({toggle:l,props:e,checked:f}),z(()=>e.modelValue),()=>v(xe,D({bem:ye,role:"checkbox",parent:c,checked:f.value,onToggle:l},e),ce(t,["default","icon"]))}});const we=J(Te),[Be,w]=F("stepper"),Ee=200,B=(e,s)=>String(e)===String(s),Ne={min:k(1),max:k(1/0),name:k(""),step:k(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:b,showMinus:b,showInput:b,longPress:b,autoFixed:b,allowEmpty:Boolean,modelValue:_,inputWidth:_,buttonSize:_,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:k(1),decimalLength:_};var Ge=R({name:Be,props:Ne,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:s}){const t=(n,i=!0)=>{const{min:m,max:y,allowEmpty:h,decimalLength:I}=e;return h&&n===""||(n=Q(String(n),!e.integer),n=n===""?0:+n,n=Number.isNaN(n)?+m:n,n=i?Math.max(Math.min(+y,n),+m):n,X(I)&&(n=n.toFixed(+I))),n},c=()=>{var n;const i=(n=e.modelValue)!=null?n:e.defaultValue,m=t(i);return B(m,e.modelValue)||s("update:modelValue",m),m};let d;const f=H(),l=H(c()),a=S(()=>e.disabled||e.disableMinus||l.value<=+e.min),o=S(()=>e.disabled||e.disablePlus||l.value>=+e.max),g=S(()=>({width:q(e.inputWidth),height:q(e.buttonSize)})),V=S(()=>de(e.buttonSize)),r=()=>{const n=t(l.value);B(n,l.value)||(l.value=n)},u=n=>{e.beforeChange?he(e.beforeChange,{args:[n],done(){l.value=n}}):l.value=n},E=()=>{if(d==="plus"&&o.value||d==="minus"&&a.value){s("overlimit",d);return}const n=d==="minus"?-e.step:+e.step,i=t(fe(+l.value,n));u(i),s(d)},ee=n=>{const i=n.target,{value:m}=i,{decimalLength:y}=e;let h=Q(String(m),!e.integer);if(X(y)&&h.includes(".")){const $=h.split(".");h=`${$[0]}.${$[1].slice(0,+y)}`}e.beforeChange?i.value=String(l.value):B(m,h)||(i.value=h);const I=h===String(+h);u(I?+h:h)},ne=n=>{var i;e.disableInput?(i=f.value)==null||i.blur():s("focus",n)},ae=n=>{const i=n.target,m=t(i.value,e.autoFixed);i.value=String(m),l.value=m,me(()=>{s("blur",n),re()})};let N,P;const O=()=>{P=setTimeout(()=>{E(),O()},Ee)},te=()=>{e.longPress&&(N=!1,clearTimeout(P),P=setTimeout(()=>{N=!0,E(),O()},ge))},K=n=>{e.longPress&&(clearTimeout(P),N&&M(n))},le=n=>{e.disableInput&&M(n)},U=n=>({onClick:i=>{M(i),d=n,E()},onTouchstartPassive:()=>{d=n,te()},onTouchend:K,onTouchcancel:K});return C(()=>[e.max,e.min,e.integer,e.decimalLength],r),C(()=>e.modelValue,n=>{B(n,l.value)||(l.value=t(n))}),C(l,n=>{s("update:modelValue",n),s("change",n,{name:e.name})}),z(()=>e.modelValue),()=>v("div",{role:"group",class:w([e.theme])},[G(v("button",D({type:"button",style:V.value,class:[w("minus",{disabled:a.value}),{[W]:!a.value}],"aria-disabled":a.value||void 0},U("minus")),null),[[L,e.showMinus]]),G(v("input",{ref:f,type:e.integer?"tel":"text",role:"spinbutton",class:w("input"),value:l.value,style:g.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":l.value,onBlur:ae,onInput:ee,onFocus:ne,onMousedown:le},null),[[L,e.showInput]]),G(v("button",D({type:"button",style:V.value,class:[w("plus",{disabled:o.value}),{[W]:!o.value}],"aria-disabled":o.value||void 0},U("plus")),null),[[L,e.showPlus]])])}});const Le=J(Ge);const Me={props:["item","handleAdd","handleChange","showCheckBox"]},Ae={class:"content-item"},De={class:"left"},Fe=["src"],Re={class:"text"},ze={class:"title"},Oe={class:"price"};function Ke(e,s,t,c,d,f){const l=we,a=Ve,o=Le;return T(),_e("div",Ae,[x("div",De,[t.showCheckBox?(T(),A(l,{key:0,name:t.item.id,"checked-color":"#ffc400"},null,8,["name"])):ve("",!0),x("img",{src:t.item.pic},null,8,Fe),x("div",Re,[x("div",ze,Y(t.item.title),1),t.item.add?(T(),A(a,{key:0,name:"add-o",onClick:s[0]||(s[0]=g=>t.handleAdd(t.item.id))})):(T(),A(o,{key:1,modelValue:t.item.num,"onUpdate:modelValue":s[1]||(s[1]=g=>t.item.num=g),onChange:t.handleChange,name:"item.id"},null,8,["modelValue","onChange"]))]),x("div",Oe,"ï¿¥"+Y(t.item.price),1)])])}const qe=be(Me,[["render",Ke],["__scopeId","data-v-80725a71"]]);export{we as C,Le as S,qe as _,He as s};
